(this.webpackJsonpbuttongame=this.webpackJsonpbuttongame||[]).push([[0],{109:function(e,t){},112:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(8),l=r.n(c),s=(r(58),r(59),r(1)),o=r(4),u=r.n(o),i=r(9),m=r(11),p=function(e){return{type:"ADD_USERNAME",data:{username:e}}},d=r(15),v=r.n(d),E=function(){var e=Object(i.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In login"),e.next=3,v.a.post("https://buttongame2020.herokuapp.com/login",t);case 3:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),r=t[0],c=t[1],l=Object(n.useState)(""),o=Object(m.a)(l,2),d=o[0],v=o[1],f=Object(s.b)(),b=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,E({username:r,password:d});case 4:n=e.sent,f(p(n.username)),f({type:"ADD_SCORE",data:{score:n.score}}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Problems with login: ".concat(e.t0)),c(""),v("");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"form"},a.a.createElement("h2",null,"Login"),a.a.createElement("form",{onSubmit:b},a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"usernameLogin"},"Username"),a.a.createElement("input",{type:"text",value:r,name:"username",id:"usernameLogin",required:!0,onChange:function(e){var t=e.target;return c(t.value)}})),a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"passwordLogin"},"Password"),a.a.createElement("input",{type:"password",value:d,name:"password",id:"passwordLogin",required:!0,onChange:function(e){var t=e.target;return v(t.value)}})),a.a.createElement("button",{type:"submit"},"Login")))},b=function(){var e=Object(i.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("https://buttongame2020.herokuapp.com/register",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),r=t[0],c=t[1],l=Object(n.useState)(""),o=Object(m.a)(l,2),d=o[0],v=o[1],E=Object(n.useState)(""),f=Object(m.a)(E,2),g=f[0],O=f[1],S=Object(s.b)(),h=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d!==g){e.next=18;break}return e.prev=2,e.next=5,b({username:r,password:d});case 5:n=e.sent,console.log("User is ",n),n.data.errors?(console.log("Pick another username."),c(""),v(""),O("")):(S(p(n.data.username)),S({type:"CREATE_SCORE",data:{score:20}})),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Problems with registration: ".concat(e.t0)),c(""),v(""),O("");case 16:e.next=21;break;case 18:console.log("Passwords do not match"),v(""),O("");case 21:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"form"},a.a.createElement("h2",null,"Register"),a.a.createElement("form",{onSubmit:h},a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"usernameRegister"},"Username"),a.a.createElement("input",{type:"text",value:r,name:"username",id:"usernameRegister",required:!0,onChange:function(e){var t=e.target;return c(t.value)}})),a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"passwordRegister"},"Password"),a.a.createElement("input",{type:"password",value:d,name:"password",id:"passwordRegister",required:!0,onChange:function(e){var t=e.target;return v(t.value)}})),a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"passwordAgain"},"Password again"),a.a.createElement("input",{type:"password",value:g,name:"passwordAgain",id:"passwordAgain",required:!0,onChange:function(e){var t=e.target;return O(t.value)}})),a.a.createElement("button",{type:"submit"},"Register")))},O=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.username}));return a.a.createElement("div",null,a.a.createElement("p",null,"Game over"),a.a.createElement("button",{onClick:function(){e(function(e){return{type:"server/RESTORE_SCORE",data:{username:e,score:20}}}(t))}},"Restart"))},S=function(){var e=Object(s.b)();return a.a.createElement("button",{onClick:function(){window.localStorage.removeItem("appState"),e({type:"REMOVE_USERNAME"}),e({type:"REMOVE_SCORE"})}},"Logout")},h=function(){var e=Object(s.c)((function(e){return e.allClicks})),t=null;if(e%10===0)t=10;else for(;e%10!==0;)t++,e++;return a.a.createElement("p",null,"Next award is ",t," click",1!==t?"s":""," away!")},w=function(){var e=Object(s.c)((function(e){return e.score}));return a.a.createElement("p",null,e)},_=r(16),y=function(){var e=Object(_.b)(),t=Object(s.b)(),r=Object(s.c)((function(e){return e.allClicks})),n=Object(s.c)((function(e){return e.score})),c=Object(s.c)((function(e){return e.username})),l=null;return a.a.createElement("button",{onClick:function(){t(function(e,t,r){var n=t+1;return console.log("Action has clicksBefore: ",t," and adds it to clicks: ",n),n%500===0?{type:"server/PUSH_249_POINTS",data:{username:e,allClicks:n,score:r+249}}:n%100===0?{type:"server/PUSH_39_POINTS",data:{username:e,allClicks:n,score:r+39}}:n%10===0?{type:"server/PUSH_4_POINTS",data:{username:e,allClicks:n,score:r+4}}:{type:"server/PUSH",data:{username:e,allClicks:n,score:r-1}}}(c,r,n));var s=r+1;s%500===0?l=250:s%100===0?l=40:s%10===0&&(l=5),l&&e.show(a.a.createElement("p",null,"+ ",l))}},"Push!")},P=function(){var e=Object(s.c)((function(e){return e.username})),t=Object(s.c)((function(e){return e.score}));return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Button game"),null===e?a.a.createElement("div",null,a.a.createElement(f,null),a.a.createElement("p",null,"Or if this is your first time here:"),a.a.createElement(g,null)):t<=0?a.a.createElement("div",null,a.a.createElement(S,null),a.a.createElement(O,null)):a.a.createElement("div",null,a.a.createElement(S,null),a.a.createElement(h,null),a.a.createElement(w,null),a.a.createElement(y,null)))},j=r(10),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USERNAME":return t.data.username;case"REMOVE_USERNAME":return null;default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_SCORE":case"ADD_SCORE":case"server/PUSH":case"server/PUSH_4_POINTS":case"server/PUSH_39_POINTS":case"server/PUSH_249_POINTS":case"server/ADD_20_POINTS":return t.data.score;case"REMOVE_SCORE":return null;case"server/RESTORE_SCORE":return t.data.score;default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"server/PUSH":case"server/PUSH_4_POINTS":case"server/PUSH_39_POINTS":case"server/PUSH_249_POINTS":case"server/PUSH_20_POINTS":return e+1;case"server/ALL_CLICKS":return t.allClicks;case"server/ADD_CLICK":return e+1;default:return e}},N=Object(j.c)({username:C,score:R,allClicks:k}),x=r(50),U=r.n(x),I=r(51),A=r.n(I),T=function(){try{var e=window.localStorage.getItem("appState");if(!e)return;return JSON.parse(e)}catch(t){console.log("Error on checking the app state from the browser's local sotrage: ".concat(t))}}(),D=U()("https://buttongame2020.herokuapp.com"),H=[A()(D,"server/")],L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.d,M=Object(j.e)(N,T,L(j.a.apply(void 0,H)));M.subscribe((function(){console.log("New state in Redux store: ",M.getState()),function(e){try{var t=JSON.stringify(e);window.localStorage.setItem("appState",t)}catch(r){console.log(r)}}(M.getState())}));var F=M,q=r(52),V={backgroundColor:"#61892F",color:"white",fontWeight:"bold",padding:"20px",borderRadius:"80px",display:"flex",alignItems:"center",fontFamily:"Arial",width:"45px"},J=function(e){var t=e.message;return a.a.createElement("div",{style:Object(q.a)({},V)},a.a.createElement("span",null,t))};l.a.render(a.a.createElement(s.a,{store:F},a.a.createElement(_.a,Object.assign({template:J},{timeout:2e3,position:"top center",transition:"fade"}),a.a.createElement(P,null))),document.getElementById("root"))},53:function(e,t,r){e.exports=r(112)},58:function(e,t,r){},59:function(e,t,r){}},[[53,1,2]]]);
//# sourceMappingURL=main.7953b693.chunk.js.map